<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Timer</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: transparent;
      --fg: #1a1a1a;

      --card-bg: #ffffff;
      --card-shadow: 0 1px 3px rgba(0, 0, 0, .15);

      --btn-bg: #ffffff;
      --btn-fg: #1a1a1a;
      --btn-shadow: 0 1px 2px rgba(0, 0, 0, .18);

      --input-border: rgba(0, 0, 0, .3);
      --input-focus: rgba(0, 0, 0, .7);
    }

    body.dark {
      --fg: #ffffff;
      --card-bg: #1a1a1a;
      --card-shadow: 0 1px 5px rgba(0, 0, 0, .6);

      --btn-bg: #1e1e1e;
      --btn-fg: #ffffff;
      --btn-shadow: 0 6px 16px rgba(0, 0, 0, .8);

      --input-border: rgba(255, 255, 255, .25);
      --input-focus: rgba(255, 255, 255, .7);
    }

    html,
    body {
      margin: 0;
      padding: 3px;
      height: 95vh;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 95vh;
      background: transparent;
      color: var(--fg);
      font-family: "JetBrains Mono", monospace;
      box-sizing: border-box;
    }

    .timer-container {
      width: 95vw;
      aspect-ratio: 16/9;
      padding: 4vw;
      border-radius: 20px;
      background: var(--card-bg);
      box-shadow: var(--card-shadow);
      transition: background .25s, box-shadow .25s;
      text-align: center;
      position: relative;

      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .theme-toggle {
      position: absolute;
      top: 12px;
      right: 12px;
      padding: 4px 12px;
      font-size: 1rem;
      background: var(--btn-bg);
      color: var(--btn-fg);
      border-radius: 999px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, .2);
      border: none;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, opacity 0.2s, transform 0.2s;
    }

    .theme-toggle img {
      width: 1em;
      height: 0.8em;
      vertical-align: middle;
    }

    .theme-toggle:hover {
      opacity: 0.85;
      transform: scale(1.1);
    }

    .display {
      font-size: 13vw;
      font-weight: 700;
      font-variant-numeric: tabular-nums;
      margin-bottom: 3vw;
    }

    .input-group {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: .6rem;
      margin-bottom: 4px;
    }

    input {
      width: 10vw;
      padding: 0.8vw;
      background: transparent;
      color: var(--fg);
      font-size: 2.5vw;
      text-align: center;
      font-weight: 400;
      border: 0.3vw solid var(--input-border);
      border-radius: 3vw;
      outline: none;
    }

    input:focus {
      border-color: var(--input-focus);
      border-width: 3px;
    }

    .input-label {
      font-size: 2vw;
      opacity: .7;
    }

    button {
      font-family: inherit;
      font-size: 2.5vw;
      padding: 1vw 4vw;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      background: var(--btn-bg);
      color: var(--btn-fg);
      box-shadow: var(--btn-shadow);
      transition: background .2s, color .2s, opacity .15s;
    }

    button:hover {
      opacity: .8;
    }

    button:active {
      opacity: .6;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: .6rem;
      margin-top: 14px;
    }

    .play-pause-btn img {
      width: 3vw;
      vertical-align: middle;
    }

    #setBtn {
      font-size: 2vw;
      padding: 1vw 2vw;
    }
  </style>
</head>

<body>
  <div class="timer-container">
    <button class="theme-toggle" id="themeToggle">
      <img id="themeIcon" src="" alt="theme icon">
    </button>

    <div class="display" id="display">00:00</div>

    <div class="input-group">
      <input type="number" id="minutesInput" min="0" max="999" value="0">
      <span class="input-label">m</span>
      <input type="number" id="secondsInput" min="0" max="59" value="0">
      <span class="input-label">s</span>
      <button id="setBtn">SET</button>
    </div>

    <div class="controls">
      <button class="play-pause-btn" id="playPauseBtn">
        <img id="playPauseIcon" src="" alt="play">
      </button>
      <button id="resetBtn">RESET</button>
    </div>
  </div>

  <script>
    let seconds = 0;
    let interval = null;
    let isRunning = false;

    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const playPauseIcon = document.getElementById('playPauseIcon');
    const display = document.getElementById('display');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const resetBtn = document.getElementById('resetBtn');
    const minutesInput = document.getElementById('minutesInput');
    const secondsInput = document.getElementById('secondsInput');
    const setBtn = document.getElementById('setBtn');

    // icons
    const sunIcon = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 24 24'%3e%3cpath d='M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06a.996.996 0 0 0 0 1.41c.39.38 1.03.39 1.41 0zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06a.996.996 0 0 0 0 1.41c.39.38 1.03.39 1.41 0z'/%3e%3c/svg%3e";
    const moonIcon = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='black' viewBox='0 0 24 24'%3e%3cpath d='M11.032 3.027c-4.5.49-8.01 4.31-8.01 8.95a9 9 0 0 0 9 9c4.63 0 8.45-3.5 8.95-8 .09-.79-.78-1.42-1.54-.95a5.403 5.403 0 0 1-8.31-4.55c0-1.06.31-2.06.84-2.89.45-.67-.04-1.63-.93-1.56'/%3e%3c/svg%3e";
    const playIconLight = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='black' viewBox='0 0 16 16'%3e%3cpath d='m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393'/%3e%3c/svg%3e";
    const pauseIconLight = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='black' viewBox='0 0 16 16'%3e%3cpath d='M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5m5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5'/%3e%3c/svg%3e";
    const playIconDark = "data:image/sv
